(this.webpackJsonpspline=this.webpackJsonpspline||[]).push([[0],{58:function(e,t,a){e.exports=a.p+"static/media/a0.79715c11.png"},59:function(e,t,a){e.exports=a.p+"static/media/b0.c6545c82.png"},69:function(e,t,a){e.exports=a.p+"static/media/a1.9ad46e8e.png"},70:function(e,t,a){e.exports=a.p+"static/media/a2.cf4f4a6d.png"},71:function(e,t,a){e.exports=a.p+"static/media/a3.925c5007.png"},82:function(e,t,a){e.exports=a(93)},87:function(e,t,a){},88:function(e,t,a){},93:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(15),s=a.n(r),l=(a(87),a(20)),o=(a(88),a(2)),h=a(9),u=a(7),c=a(5),m=a(8),p=a(11);function d(e,t,a,n){var i=new p.q,r=new p.q;return i.x=e*(2*a.x-n.x-t.x),i.y=e*(2*a.y-n.y-t.y),i.z=0,r.addVectors(t.clone().negate(),n).multiplyScalar(e),[i,r]}function v(e,t,a,n){var i=e.elements,r=i[0],s=i[1],l=i[2],o=i[4],h=i[5],u=i[6],c=i[8],m=i[9],p=i[10],d=9*(r*r+s*s+l*l),v=12*(r*o+s*h+l*u),f=6*(r*c+s*m+l*p)+4*(o*o+h*h+u*u),g=4*(o*c+h*m+u*p),y=c*c+m*m+p*p,_=Math.floor((a-t)/n),w=0;if(_<3){for(var b=t;b<=a;b+=n){var k=b*b,x=k*b,C=k*k;w+=Math.sqrt(d*C+v*x+f*k+g*b+y)}return w*n}for(var S=0,E=t;E<=a;E+=n){var P=E*E,O=d*(P*P)+v*(P*E)+f*P+g*E+y;O<0&&console.log("hi");var j=Math.sqrt(O);w+=0===S||S===_?j*n:S%2===1?4*j*n:2*j*n,++S}return w/3}var f=a(58),g=a.n(f),y=a(69),_=a.n(y),w=a(70),b=a.n(w),k=a(71),x=a.n(k),C=a(59),S=a.n(C),E=function e(t,a,n,i,r,s){Object(o.a)(this,e),this.plane=t.map((function(e){var t=new p.l({map:p.g.loadTexture(e),transparent:!0});t.map.needsUpdate=!0;var i=new p.k(new p.n(a,n),t);return i.overdraw=!0,i})),this.scale=i,this.skew_k=r,this.skew_b=s},P=function(){function e(){Object(o.a)(this,e),this.frame=0,this.run_image=!1,this.run_cnt=0,this.first_run=!0,this.speed=1,this.current_pos=0,this.images=[new E([g.a,_.a,b.a,x.a],.75,.8,.3,1.015,-.06),new E([S.a],.6,1,.44,1.015,.02)],this.target_image=this.images[0]}return Object(h.a)(e,[{key:"GetImages",value:function(){return[{name:"\u5c0f\u65b0 & \u7f8e\u4f22",url:g.a},{name:"\u5c0f\u65b0",url:S.a}]}}]),Object(h.a)(e,[{key:"SelectImg",value:function(e,t){this.run_image&&!1===this.first_run&&e.remove(this.target_image.plane[this.frame]),this.target_image=this.images[t]}},{key:"RunImage",value:function(e,t,a,n){if(!1!==this.run_image&&null!==t){if(!(t.length<=1)){++this.run_cnt;var i=-.175,r=Math.floor((a*i+18.5)/this.speed);if(0===r&&(r=1),this.run_cnt%r===0){++this.current_pos,this.run_cnt=0,this.first_run||e.remove(this.target_image.plane[this.frame]),++this.frame,this.frame=this.frame%this.target_image.plane.length,e.add(this.target_image.plane[this.frame]),!0===this.first_run&&(this.frame=0,this.current_pos=0,this.first_run=!1);var s=this.target_image.plane[this.frame];t.length-1<this.current_pos&&(s.rotation.set(0,0,0),s.updateMatrix(),this.current_pos=0);var l,o,h=this.current_pos,u=t[h],c=new p.q(0,0,1);0===(l=0===this.current_pos?d(n,t[0],t[1],t[2])[0]:this.current_pos==t.length-1?d(n,t[h-2],t[h-1],t[h])[1].negate():t[h+1].clone().sub(t[h-1])).x?(o=1.5707963,o=l.y>0?l.y:-l.y):o=Math.atan(l.y/l.x);var m=this.target_image.scale,v=this.target_image.skew_k,f=this.target_image.skew_b;this.target_image.plane[this.frame].setRotationFromAxisAngle(c,o*v-f),l.applyAxisAngle(c,1.5707963).normalize().multiplyScalar(m),this.target_image.plane[this.frame].position.set(u.x+l.x,u.y+l.y,u.z+l.z)}}}else!1===this.first_run&&(e.remove(this.target_image.plane[this.frame]),this.first_run=!0)}}]),e}(),O={linear:function(e){return e},"ease in square":function(e){return e*e},"ease in cubic":function(e){return e*e*e},"ease in sine":function(e){return 1+Math.sin((e-1)*Math.PI/2)},"ease out sine":function(e){return Math.sin(e*Math.PI/2)},"ease in out sine":function(e){return(Math.sin((e-.5)*Math.PI)+1)/2}},j=function(){function e(t,a){Object(o.a)(this,e),this.need_update=!1,this.spline=null,this.newCurve=null,this.timeGoes=0,this.animateTime=20,this.curveUpdateDone=null,this.themeColor=null,this.curveTau=.5,this.newCurveTau=.5,this.param=[],this.splineMatrial=new p.i({color:13421772,linewidth:2.2}),this.scene=null,this.param_cache=[],this.param_is_displaying=!1,this.paramDotsGroup=new p.f,this.last_sample=null,this.last_sample_name="linear",this.param_vectors=[],this.scene=t,this.themeColor=a}return Object(h.a)(e,[{key:"Destroy",value:function(){null!==this.spline&&(this.scene.remove(this.spline),this.PurgeParam())}},{key:"clone",value:function(){var t=this.spline,a=new e(this.scene,this.themeColor),n=new p.i({color:t.material.color.clone(),linewidth:2.7}),i=new p.e;return i.vertices=t.geometry.vertices.map((function(e){return e.clone()})),a.spline=new p.h(i,n),a.curveTau=this.curveTau,a.param=this.param.map((function(e){return e.clone()})),a.curveUpdateDone=this.curveUpdateDone,a}},{key:"KickUpdateCurve",value:function(){this.param_need_update=!0,this.curveTau=this.newCurveTau,this.timeGoes=0}},{key:"UpdateCurve",value:function(){if(null!==this.newCurve&&null!==this.spline){++this.timeGoes;var e=this.themeColor[function(e){for(var t=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1,2],a=[50,100,200,300,400,500,600,700,800,900,900],n=0;n<t.length;++n)if(e<t[n+1])return a[n]}(this.curveTau)];if(this.timeGoes>=this.animateTime)this.spline.geometry.vertices=this.newCurve,this.newCurve=null,this.spline.material.color.set(e),null!==this.curveUpdateDone&&(this.curveUpdateDone(),this.param_need_update=!0);else{var t=1/(this.animateTime-this.timeGoes);this.spline.material.color.lerp(new p.d(e),t);for(var a=0;a<this.newCurve.length;++a){var n=this.newCurve[a].clone().sub(this.spline.geometry.vertices[a]);this.spline.geometry.vertices[a].add(n.multiplyScalar(t))}}this.spline.geometry.verticesNeedUpdate=!0}}},{key:"Sample",value:function(e,t,a){var n=this,i=[];function r(t){return e[t].position}if(this.param=[],this.newCurveTau=t,e.length<=1){var s=!0,l=!1,o=void 0;try{for(var h,u=e[Symbol.iterator]();!(s=(h=u.next()).done);s=!0){var c=h.value;i.push(c.position)}}catch(U){l=!0,o=U}finally{try{s||null==u.return||u.return()}finally{if(l)throw o}}return this.newCurve=i,this}if(2===e.length){var m=1/a;i.push(r(0));for(var v=r(0),f=r(1).clone().sub(v).multiplyScalar(m),g=v.clone().add(f),y=1;y<a-1;++y)i.push(g.add(f).clone());return i.push(r(1)),this.newCurve=i,this}var _=function(e,t,a,i){var r=function(e,t,a,n){var i=new p.j;i.set(2,-2,1,1,-3,3,-2,-1,0,0,1,0,1,0,0,0);var r=new p.j;r.set(e.x,e.y,e.z,0,t.x,t.y,t.z,0,a.x,a.y,a.z,0,n.x,n.y,n.z,0);var s=new p.j;return s.multiplyMatrices(i,r),s.transpose(),s}(e,t,a,i);return n.param.push(r),r};function w(e,t){var a=e*e,n=a*e,r=new p.r(n,a,e,1);r.applyMatrix4(t),i.push(new p.q(r.x,r.y,r.z))}var b=d(t,r(0),r(1),r(2)),k=1/a,x=k;i.push(r(0).clone());for(var C=_(r(0),r(1),b[0],b[1]),S=1;S<a-1;++S)w(x,C),x+=k;for(var E=e.length-2,P=1;P<E;++P){x=k,i.push(r(P).clone());for(var O=r(P),j=r(P+1),D=r(P-1).clone().negate().add(j).multiplyScalar(t),G=O.clone().negate().add(r(P+2)).multiplyScalar(t),I=_(O,j,D,G),M=1;M<a-1;++M)w(x,I),x+=k}i.push(r(E).clone()),x=k,(b=d(t,r(E-1),r(E),r(E+1)))[0].negate(),C=_(r(E),r(E+1),b[1],b[0]);for(var N=1;N<a-1;++N)w(x,C),x+=k;return i.push(r(E+1).clone()),this.newCurve=i,this}},{key:"Append",value:function(e,t,a){var n=this.scene,i=new p.e;this.Sample(e,this.curveTau,t);var r=this.newCurve;if(null!==this.spline){if(this.newCurve.length>t){i.vertices=this.spline.geometry.vertices;for(var s=this.spline.geometry.vertices[this.spline.geometry.vertices.length-1],l=a.clone().sub(s).multiplyScalar(1/t),o=s.clone().add(l),h=1;h<t;++h)i.vertices.push(o.add(l).clone());this.KickUpdateCurve()}else i.vertices=this.newCurve;n.remove(this.spline)}else i.vertices=r;var u=new p.h(i,this.splineMatrial);this.spline=u,n.add(u)}},{key:"DisplayNewCurve",value:function(){var e=new p.e;e.vertices=this.newCurve;var t=new p.h(e,this.splineMatrial);this.scene.remove(this.spline),this.spline=t,this.scene.add(t)}},{key:"UpdateParam",value:function(){this.param_is_displaying}},{key:"Paramterize",value:function(e,t,a,n){var i=this.param_cache;if(this.last_sample=e,!(null===this.spline||this.spline.geometry.vertices.length<n)){for(var r=t,s=0;r!==a-1;)i[r]=v(this.param[r],0,1,.01),s+=i[r],++r;i=i.map((function(e){return e/s}));var l=0,o=1/((a-t-1)*n),h=o;r=t;for(var u=[];h<1;){for(var c=e(h);l<c;)l+=i[r],++r;for(var m=l-i[r-1],d=Math.abs(c-m),f=0,g=1;d>.001;){var y=v(this.param[r-1],f,(f+g)/2,.001)/s;if(0===y)break;m+y>c?g=(f+g)/2:(m+=y,f=(f+g)/2),d=c-m}var _=f*f,w=f*_,b=new p.r(w,_,f,1);b.applyMatrix4(this.param[r-1]),u.push(new p.q(b.x,b.y,b.z)),h+=o}return u}}},{key:"PurgeParam",value:function(){this.paramDotsGroup.children=[],this.param_need_update=!0,this.scene.remove(this.paramDotsGroup)}},{key:"ShowParam",value:function(e,t,a,n){if(!(a-t<2)&&(e!==this.last_sample_name&&(this.param_is_displaying=!1,this.param_need_update=!0),!0!==this.param_is_displaying))if(!1!==this.param_need_update){this.PurgeParam(),this.param_is_displaying=!0,this.scene.add(this.paramDotsGroup),this.param_need_update=!1;var i=this.Paramterize(O[e],t,a,n);this.param_vectors=i;var r=!0,s=!1,l=void 0;try{for(var o,h=i[Symbol.iterator]();!(r=(o=h.next()).done);r=!0){var u=o.value,c=new p.c(.04,8),m=new p.l({color:15658734}),d=new p.k(c,m);d.position.set(u.x,u.y,u.z),this.paramDotsGroup.add(d)}}catch(v){s=!0,l=v}finally{try{r||null==h.return||h.return()}finally{if(s)throw l}}}else this.scene.add(this.paramDotsGroup)}},{key:"HideParam",value:function(){this.scene.remove(this.paramDotsGroup),this.param_is_displaying=!1}}]),e}(),D=function(){function e(t,a,n,i,r){var s=this;Object(o.a)(this,e),this.splines=[],this.canvas=null,this.camera=null,this.planeMesh=null,this.mouse_down=!1,this.geometry=new p.b,this.material=new p.i({color:13421772,linewidth:2.7}),this.positions=new Float32Array(300),this.drawCount=0,this.dot_hovered=null,this.line=null,this.click_raycaster=new p.o,this.hover_raycaster=new p.o,this.mouse_down=!1,this.camera=null,this.canvas=null,this.spline_ctrl_needs_update=!1,this.global_tau=.5,this.global_gran=20,this.dotsGroup=new p.f,this.show_param=!1,this.param_sampler_fn=O.linear,this.param_sampler_name="linear",this.bifrost_save={splines:null,global_tau:.5},this.image_manager=new P,this.scene=t,this.canvas=a,this.camera=n,this.planeMesh=i,this.themeColor=r,this.geometry.addAttribute("position",new p.a(this.positions,3)),this.line=new p.h(this.geometry,this.material),this.splines.push(new j(t,r)),t.add(this.line),t.add(this.dotsGroup),a.onmousemove=function(e){s.MouseHoverOrDrag(e)},a.onmousedown=function(){s.mouse_down=!0},a.onmouseup=function(){s.mouse_down=!1,s.UpdateSplineOnDotMoved()},a.onclick=function(e){s.HandleClick(e)}}return Object(h.a)(e,[{key:"MouseHoverOrDrag",value:function(e){this.canvas.setPickPosition(e);var t=this.canvas.pickPosition;if(this.dot_hovered&&this.mouse_down)this.HandleDrag();else{this.hover_raycaster.setFromCamera(t,this.camera);var a=this.hover_raycaster.intersectObjects(this.dotsGroup.children);if(null!==this.dot_hovered&&(this.dot_hovered.material.color.setHex(16777215),this.dot_hovered=null),a.length){var n=a[0].object;n.material.color.setHex(16773494),this.dot_hovered=n}}}},{key:"HandleDrag",value:function(){var e=this.GetMouseOnPlane();this.dot_hovered.position.set(e.x,e.y,e.z);var t=3*this.dot_hovered.userData.id,a=this.line.geometry.attributes.position.array;a[t]=e.x,a[t+1]=e.y,a[t+2]=e.z,this.line.geometry.attributes.position.needsUpdate=!0,this.spline_ctrl_needs_update=!0}},{key:"GetMouseOnPlane",value:function(){var e=this.canvas.pickPosition,t=this.click_raycaster,a=new p.q(e.x,e.y,5);return t.setFromCamera(a,this.camera),t.intersectObject(this.planeMesh,!0)[0].point}},{key:"UpdateSplineOnDotMoved",value:function(){if(this.spline_ctrl_needs_update){var e=!0,t=!1,a=void 0;try{for(var n,i=this.splines[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){n.value.Sample(this.dotsGroup.children,this.global_tau,this.global_gran).KickUpdateCurve()}}catch(r){t=!0,a=r}finally{try{e||null==i.return||i.return()}finally{if(t)throw a}}this.spline_ctrl_needs_update=!1}}},{key:"HandleClick",value:function(e){if(null===this.dot_hovered){this.canvas.setPickPosition(e);var t=this.GetMouseOnPlane(),a=this.dotsGroup,n=new p.c(.06,12),i=new p.l({color:16777215}),r=new p.k(n,i);r.position.set(t.x,t.y,t.z),r.userData={id:a.children.length},a.add(r);var s=!0,l=!1,o=void 0;try{for(var h,u=this.splines[Symbol.iterator]();!(s=(h=u.next()).done);s=!0){h.value.Append(this.dotsGroup.children,this.global_gran,t)}}catch(m){l=!0,o=m}finally{try{s||null==u.return||u.return()}finally{if(l)throw o}}var c=this.line.geometry.attributes.position.array;c[3*this.drawCount]=t.x,c[3*this.drawCount+1]=t.y,c[3*this.drawCount+2]=t.z,++this.drawCount,this.line.geometry.setDrawRange(0,this.drawCount),this.line.geometry.attributes.position.needsUpdate=!0,this.MouseHoverOrDrag(e)}}},{key:"TestValidSplines",value:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=this.splines[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){if(null!=n.value.spline)return!0}}catch(r){t=!0,a=r}finally{try{e||null==i.return||i.return()}finally{if(t)throw a}}return!1}},{key:"Clear",value:function(){this.image_manager.run_image=!1,this.bifrost_save.splines=null;var e=!0,t=!1,a=void 0;try{for(var n,i=this.splines[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){n.value.Destroy()}}catch(s){t=!0,a=s}finally{try{e||null==i.return||i.return()}finally{if(t)throw a}}this.splines=[new j(this.scene,this.themeColor)];for(var r=this.dotsGroup;r.children.length;)r.remove(r.children[0]);this.drawCount=0,this.line.geometry.setDrawRange(0,this.drawCount),this.line.geometry.attributes.position.needsUpdate=!0}},{key:"Render",value:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=this.splines[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){n.value.UpdateCurve()}}catch(s){t=!0,a=s}finally{try{e||null==i.return||i.return()}finally{if(t)throw a}}var r=null;this.splines.length&&this.splines[0].spline&&(r=!1===this.show_param?this.splines[0].spline.geometry.vertices:this.splines[0].param_vectors),this.image_manager.RunImage(this.scene,r,this.global_gran,this.splines[0].curveTau)}},{key:"gran",set:function(e){if(this.global_gran!==e){this.global_gran=e;var t=!0,a=!1,n=void 0;try{for(var i,r=this.splines[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){i.value.Sample(this.dotsGroup.children,this.global_tau,this.global_gran).DisplayNewCurve()}}catch(s){a=!0,n=s}finally{try{t||null==r.return||r.return()}finally{if(a)throw n}}}}},{key:"tau",set:function(e){if(this.global_tau!==e){this.global_tau=e;var t=!0,a=!1,n=void 0;try{for(var i,r=this.splines[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){i.value.Sample(this.dotsGroup.children,this.global_tau,this.global_gran).KickUpdateCurve()}}catch(s){a=!0,n=s}finally{try{t||null==r.return||r.return()}finally{if(a)throw n}}}}},{key:"bifrost",set:function(e){var t=this,a=this.bifrost_save.splines,n=this.scene;if(!(null!==a===e||!1===this.TestValidSplines()||this.dotsGroup.children.length<=2))if(!1!==e){this.bifrost_save.splines=this.splines,this.bifrost_save.global_tau=this.global_tau;var i=this.splines[0],r=!0,s=!1,l=void 0;try{for(var o,h=this.splines[Symbol.iterator]();!(r=(o=h.next()).done);r=!0){var u=o.value;n.remove(u.spline)}}catch(w){s=!0,l=w}finally{try{r||null==h.return||h.return()}finally{if(s)throw l}}this.splines=[];var c=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1],m=0;i.curveUpdateDone=function(){if(m!==c.length){var e=i;i=i.clone(),e.curveUpdateDone=null,t.scene.add(i.spline),i.Sample(t.dotsGroup.children,c[m],t.global_gran).KickUpdateCurve(),t.splines.push(i),++m}else i.curveUpdateDone=null},i.curveUpdateDone()}else{for(var p=0;p<this.splines.length;++p)this.scene.remove(this.splines[p].spline);this.global_tau=this.bifrost_save.global_tau,this.splines=this.bifrost_save.splines;var d=!0,v=!1,f=void 0;try{for(var g,y=this.splines[Symbol.iterator]();!(d=(g=y.next()).done);d=!0){var _=g.value;this.scene.add(_.spline)}}catch(w){v=!0,f=w}finally{try{d||null==y.return||y.return()}finally{if(v)throw f}}this.bifrost_save.splines=null}}},{key:"run_img",set:function(e){this.image_manager.run_image=e}},{key:"img_speed",set:function(e){this.image_manager.speed=e}},{key:"imgs",get:function(){return this.image_manager.GetImages()}},{key:"selectImg",set:function(e){this.image_manager.SelectImg(this.scene,e)}},{key:"showParam",set:function(e){if(this.show_param!==e&&void 0!==e)if(this.show_param=e,1==this.show_param){var t=!0,a=!1,n=void 0;try{for(var i,r=this.splines[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){i.value.ShowParam(this.param_sampler_name,0,this.dotsGroup.children.length,this.global_gran)}}catch(c){a=!0,n=c}finally{try{t||null==r.return||r.return()}finally{if(a)throw n}}}else{var s=!0,l=!1,o=void 0;try{for(var h,u=this.splines[Symbol.iterator]();!(s=(h=u.next()).done);s=!0){h.value.HideParam()}}catch(c){l=!0,o=c}finally{try{s||null==u.return||u.return()}finally{if(l)throw o}}}}},{key:"param_sampler",set:function(e){if(e&&(this.param_sampler_fn=O[e],this.param_sampler_name=e,this.show_param)){var t=!0,a=!1,n=void 0;try{for(var i,r=this.splines[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){i.value.ShowParam(this.param_sampler_name,0,this.dotsGroup.children.length,this.global_gran)}}catch(s){a=!0,n=s}finally{try{t||null==r.return||r.return()}finally{if(a)throw n}}}}}]),e}(),G=function(){function e(t,a){var n=this;Object(o.a)(this,e),this.canvas=null,this.w=0,this.h=0,this.pickPosition={x:0,y:0},this.frame=null,this.clearPickPosition(),this.canvas=a,this.w=t.clientWidth,this.h=t.clientHeight,t.appendChild(a),t.mouseout=function(){return n.clearPickPosition()},this.frame=t}return Object(h.a)(e,[{key:"Aspect",value:function(){return this.w/this.h}},{key:"getCanvasRelativePosition",value:function(e){var t=this.canvas.getBoundingClientRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}},{key:"setPickPosition",value:function(e){var t=this.pickPosition,a=this.getCanvasRelativePosition(e);t.x=a.x/this.w*2-1,t.y=a.y/this.h*-2+1}},{key:"clearPickPosition",value:function(){var e=this.pickPosition;e.x=-1e5,e.y=-1e5}},{key:"onmousemove",set:function(e){this.frame.onmousemove=e}},{key:"onmousedown",set:function(e){this.frame.onmousedown=e}},{key:"onmouseup",set:function(e){this.frame.onmouseup=e}},{key:"onclick",set:function(e){this.frame.onclick=e}}]),e}(),I=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.handle=function(e,t){var a=new p.p,n=new p.s({antialias:!0,powerPreference:"high-performance"}),i=new G(document.getElementById(t),n.domElement),r=new p.m(75,i.Aspect(),.1,1e3);n.setSize(i.w,i.h),n.setClearColor(0,1),r.position.z=5;var s=new p.n(1e3,1e3,10,10),l=new p.k(s,new p.l),o=new D(a,i,r,l,e);return function e(){requestAnimationFrame(e),o.Render(),n.render(a,r)}(),{HandleTau:function(e){o.tau=e},HandleGran:function(e){o.gran=e},HandleImg:function(e){o.run_img=e},HandleImgSpeed:function(e){o.img_speed=e},EnableBifrost:function(e){o.bifrost=e},HandleCleanLines:function(){o.Clear()},ShowLinearSample:function(e){o.showParam=e},GetAllImgs:function(){return o.imgs},SelectImg:function(e){o.selectImg=e},SelectSampler:function(e){o.param_sampler=e}}}(this.props.colorGroup,this.props.elId),void 0!==this.props.getImg&&this.props.getImg(this.handle.GetAllImgs())}},{key:"render",value:function(){return void 0!==this.handle&&(this.handle.HandleTau(this.props.tau),this.handle.HandleGran(this.props.gran),this.handle.HandleImg(this.props.theimg),this.handle.HandleImgSpeed(this.props.imgSpeed),this.handle.EnableBifrost(this.props.bifrost),this.handle.ShowLinearSample(this.props.enable_param),this.handle.SelectImg(this.props.selectImg),this.handle.SelectSampler(this.props.selectSampler),!0===this.props.cleanup&&(this.handle.HandleCleanLines(),this.props.oncleanupDone())),i.a.createElement("div",null)}}]),t}(i.a.Component);var M=a(74),N=a(141),U=a(54),H=a(142),T=a(138),z=a(6),A=a(144),R=a(143),q=a(152),B=a(95),L=a(153),F=a(154),V=a(155),K=a(148),W=a(150),J=a(151),Y=a(146),$=a(145),X=a(55),Q=a.n(X),Z=a(147),ee=a(149),te=a(73),ae=a.n(te),ne=Object(M.a)({palette:{type:"dark",primary:{main:U.a[500]}}}),ie=Object(T.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(3),marginTop:e.spacing(1)},rawpaper:{padding:e.spacing(3),marginTop:e.spacing(1),boxShadow:"none"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},button:{margin:e.spacing(1)},formControl:{margin:e.spacing(1),minWidth:160},littlePanel:{width:200,height:200},detailPanel:{flexDirection:"column"},Right:{maxHeight:"100vh",overflowY:"scroll"}}})),re=Object(z.a)((function(e){return{root:{color:e.primary,height:8},thumb:{height:24,width:24,backgroundColor:"#fff",border:"2px solid currentColor",marginTop:-8,marginLeft:-12,"&:focus,&:hover,&$active":{boxShadow:"inherit"}},active:{},valueLabel:{left:"calc(-50% + 4px)"},track:{height:8,borderRadius:4},rail:{height:8,borderRadius:4}}}))(q.a);function se(e){var t=Object(n.useRef)(null),a=Object(n.useRef)(null);return Object(n.useEffect)((function(){console.log("set",a.current.style.width),t.current.style.width=a.current.style.width})),i.a.createElement("div",{ref:a,className:"canvas-frame-wrapper"},i.a.createElement("div",{ref:t,id:"canvas-frame",className:"canvas-frame"}),e.children)}var le=function(){var e=i.a.useState(2),t=Object(l.a)(e,2),a=(t[0],t[1],i.a.useState(.5)),n=Object(l.a)(a,2),r=n[0],s=n[1],o=i.a.useState(20),h=Object(l.a)(o,2),u=h[0],c=h[1],m=i.a.useState(!1),p=Object(l.a)(m,2),d=p[0],v=p[1],f=i.a.useState(1),g=Object(l.a)(f,2),y=g[0],_=g[1],w=i.a.useState(!1),b=Object(l.a)(w,2),k=b[0],x=b[1],C=i.a.useState(!1),S=Object(l.a)(C,2),E=S[0],P=S[1],j=i.a.useState(!1),D=Object(l.a)(j,2),G=D[0],M=D[1],T=i.a.useState([]),z=Object(l.a)(T,2),q=z[0],X=z[1],te=i.a.useState(0),le=Object(l.a)(te,2),oe=le[0],he=le[1],ue=i.a.useState("linear"),ce=Object(l.a)(ue,2),me=ce[0],pe=ce[1],de=ie();return i.a.createElement(N.a,{theme:ne},i.a.createElement(H.a,null,i.a.createElement("div",{className:"App"},i.a.createElement(R.a,{container:!0,direction:"row",className:de.root,spacing:0},i.a.createElement(R.a,{item:!0,xs:8},i.a.createElement(se,null,i.a.createElement(I,{tau:r,gran:u,theimg:d,imgSpeed:y,colorGroup:U.a,bifrost:k,cleanup:E,oncleanupDone:function(){P(!1)},elId:"canvas-frame",enable_param:G,getImg:function(e){X(e)},selectImg:oe,selectSampler:me}))),i.a.createElement(R.a,{item:!0,xs:4,className:de.Right},i.a.createElement("div",{className:"ctrl"},i.a.createElement(J.a,null,i.a.createElement($.a,{expandIcon:i.a.createElement(Q.a,null)},i.a.createElement(B.a,{className:de.heading},"\u4f7f\u7528\u65b9\u6cd5")),i.a.createElement(Y.a,null,i.a.createElement(B.a,null,"\u5de6\u4fa7\u4efb\u610f\u70b9\u51fb\u521b\u5efa\u70b9 \uff0c\u9009\u4e2d\u70b9\u62d6\u62fd\u91cd\u5b9a\u4f4d")),i.a.createElement(Y.a,null,i.a.createElement("div",{id:"control-canvase"}))),i.a.createElement(J.a,null,i.a.createElement($.a,{expandIcon:i.a.createElement(Q.a,null)},i.a.createElement(B.a,null,"Spline Basic Control")),i.a.createElement(Y.a,{className:de.detailPanel},i.a.createElement(A.a,{className:de.paper},i.a.createElement(B.a,{id:"tau"},"Choose Tau Value"),i.a.createElement("div",{className:"slide"},i.a.createElement(re,{onChangeCommitted:function(e,t){s(t)},max:1,min:0,step:.01,valueLabelDisplay:"auto","aria-label":"tau",defaultValue:.5}))),i.a.createElement(A.a,{className:de.paper},i.a.createElement(B.a,{id:"gran"},"Granularity"),i.a.createElement("div",{className:"slide"},i.a.createElement(re,{disabled:k,onChangeCommitted:function(e,t){c(t)},max:50,min:2,step:1,valueLabelDisplay:"auto","aria-label":"gran",defaultValue:20}))))),i.a.createElement(J.a,null,i.a.createElement($.a,{expandIcon:i.a.createElement(Q.a,null)},i.a.createElement(B.a,null,"Image Player")),i.a.createElement(Y.a,{className:de.detailPanel},i.a.createElement(A.a,{className:de.rawpaper},i.a.createElement(Z.a,{control:i.a.createElement(L.a,{checked:d,onChange:function(){v(!d)},value:"checkedA",color:"primary",inputProps:{"aria-label":"secondary checkbox"},disabled:k}),label:"Run Shinnosuke"}),i.a.createElement(A.a,{className:de.rawpaper},i.a.createElement(K.a,{variant:"filled",className:de.formControl},i.a.createElement(F.a,{htmlFor:"select-img"},"Select Image"),i.a.createElement(W.a,{value:oe,onChange:function(e){he(e.target.value)},inputProps:{name:"img",id:"select-img"}},q.map((function(e,t){return i.a.createElement(V.a,{key:t,value:t},e.name)}))))),i.a.createElement(A.a,{className:de.rawpaper},i.a.createElement(B.a,{id:"gran"},"Animation Speed"),i.a.createElement("div",{className:"slide"},i.a.createElement(re,{disabled:k,onChangeCommitted:function(e,t){_(t)},max:2.1,min:.1,step:.1,valueLabelDisplay:"auto","aria-label":"speed",defaultValue:1})))))),i.a.createElement(A.a,{className:de.paper},i.a.createElement(Z.a,{control:i.a.createElement(L.a,{checked:k,onChange:function(){x(!k)},value:"checkedA",color:"primary",inputProps:{"aria-label":"secondary checkbox"}}),label:"Bifrost"}),i.a.createElement(Z.a,{control:i.a.createElement(L.a,{checked:G,onChange:function(){return M(!G)},value:"checkedA",color:"primary",inputProps:{"aria-label":"secondary checkbox"},disabled:k}),label:"Parametize"}),i.a.createElement(A.a,{className:de.rawpaper},i.a.createElement(K.a,{variant:"filled",className:de.formControl},i.a.createElement(F.a,{htmlFor:"select-ease"},"Ease Function"),i.a.createElement(W.a,{value:me,onChange:function(e){pe(e.target.value)},inputProps:{name:"ease",id:"select-ease"}},Object.keys(O).map((function(e,t){return i.a.createElement(V.a,{key:t,value:e},e)})))))),i.a.createElement(ee.a,{"aria-label":"delete",color:"secondary",className:de.button,onClick:function(){v(!1),x(!1),P(!0)}},i.a.createElement(ae.a,null))))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(le,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[82,1,2]]]);
//# sourceMappingURL=main.2c3f065a.chunk.js.map